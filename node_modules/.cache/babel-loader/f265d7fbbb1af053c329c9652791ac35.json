{"ast":null,"code":"import CSVToArray from \"./CSVToArray.js\";\nconst data = [`,,,,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,notes,mostre tot,progetti tot.,\"mostre, eventi, residenze \"`, `Fondazione Prada,Milano,exhibitions,x,x,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,4,3,8,7,0,1,,69,11,`, `PAC,Milano,exhibitions,x,x,0,0,0,1,0,6,0,0,0,0,x,x,x,8,0,0,8,25,2,5,0,x,,59,,`, `Bicocca,Milano,exhibitions,x,x,x,x,x,x,x,0,0,0,0,0,2,2,0,0,0,0,0,3,0,0,0,x,,59,,`, `MAXXI,Roma,exhibitions,x,x,x,x,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,44,7,0,x,,271,,`, `MACRO,Roma,\"exhibitions, events, residencies\",x,x,x,x,x,x,x,0,0,1,0,0,2,0,3,1,0,0,1,0,0,1,x,x,,,,346`, `Palazzo delle Esposizioni,Roma,exhibitions,x,x,2,0,0,x,x,x,x,0,0,0,0,0,0,2,0,0,0,0,0,0,0,x,,192,,`, `MADRE,Napoli,exhibitions,x,x,x,x,x,x,x,x,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,x,,97,,`, `Fondazione Made in Cloister,Napoli,exhibitions,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,0,0,0,0,0,x,,9,,`, `Studio Trisorio,Napoli,exhibitions,x,x,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,x,,126,,`, `Fondazione Sandretto,Torino,exhibitions,x,x,1,1,0,5,1,4,0,2,0,3,0,1,1,1,4,2,3,6,1,1,3,1,,147,,`, `Fondazione Merz,Torino,exhibitions,x,x,x,x,x,x,x,1,0,0,0,0,0,1,0,0,0,0,1,1,1,0,1,x,,58,,`, `GAM - Galleria civica,Torino,exhibitions,x,x,0,1,1,0,0,1,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,x,,282,,`, `Museo Novecento,Firenze,exhibitions,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,0,0,0,0,0,1,x,,70,,`, `Palazzo Strozzi,Firenze,exhibitions,x,x,x,x,x,x,x,x,x,0,1,0,0,0,0,0,0,2,0,0,0,0,0,x,,66,,`, `Villa Romana / fellows,Firenze,fellows/residencies,x,x,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,2,0,1,x,,89,,`, `Villa romana / artisti ospiti,Firenze,guest artists,x,x,x,x,x,x,x,x,x,0,0,0,0,0,0,0,0,0,0,0,5,0,0,x,,50,,`, `MAD Murate Art,Firenze,xxxx,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,0,0,0,9,x,2,9,x,I would exclude because of the unclear infos,x,,`, `Eduardo Secci,Firenze,exhibitions,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,0,0,0,0,0,0,,33,,`, `SRISA Gallery,Firenze,exhibitions,x,x,x,x,x,x,x,x,x,x,x,1,0,0,2,1,1,0,0,0,3,5,3,x,,71,,`, `BASE,Firenze,exhibitions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,,72,,`];\nexport default function mapArr() {\n  let array = data.map(el => CSVToArray(el)).map(el => el[0]).map((line, lineIndex) => line.map((entry, index) => lineIndex !== 0 ? Number(entry) || (entry === '0' ? 0 : entry) : entry));\n  array.shift();\n  console.log('ARRAY:', array);\n  let mapped = new Map();\n\n  for (let line of array) {\n    const yearsValues = line.filter((el, i) => i > 3 && i < 27);\n    console.log(sumMixedValuesArray([line[31], line[30], line[29]]));\n    mapped.set(line[0], {\n      city: line[1],\n      totalNumberOfExhibitions: sumMixedValuesArray([line[31], line[30], line[29]]),\n      yearsValues,\n      AADArtistsTotal: sumMixedValuesArray(yearsValues),\n      yearsWithAADAmount: yearsValues.filter(val => val > 0).length,\n      yearsWithDataAmount: yearsValues.filter(e => typeof e === 'number').length\n    });\n  }\n\n  function sumMixedValuesArray(arr) {\n    return arr.map(e => typeof e === 'number' ? e : 0).reduce((acc, val) => acc + val);\n  }\n\n  return mapped;\n}","map":{"version":3,"sources":["/Users/fulica/Projects/AAD_react/src/utils/dataArray.js"],"names":["CSVToArray","data","mapArr","array","map","el","line","lineIndex","entry","index","Number","shift","console","log","mapped","Map","yearsValues","filter","i","sumMixedValuesArray","set","city","totalNumberOfExhibitions","AADArtistsTotal","yearsWithAADAmount","val","length","yearsWithDataAmount","e","arr","reduce","acc"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,iBAAvB;AAEA,MAAMC,IAAI,GAAG,CAAE,yLAAF,EACR,6FADQ,EAER,+EAFQ,EAGR,kFAHQ,EAIR,gFAJQ,EAKR,sGALQ,EAMR,mGANQ,EAOR,gFAPQ,EAQR,qGARQ,EASR,2FATQ,EAUR,gGAVQ,EAWR,0FAXQ,EAYR,iGAZQ,EAaR,2FAbQ,EAcR,2FAdQ,EAeR,0GAfQ,EAgBR,2GAhBQ,EAiBR,8HAjBQ,EAkBR,yFAlBQ,EAmBR,yFAnBQ,EAoBR,gFApBQ,CAAb;AAsBA,eAAe,SAASC,MAAT,GAAkB;AAC7B,MAAIC,KAAK,GAAGF,IAAI,CAACG,GAAL,CAASC,EAAE,IAAIL,UAAU,CAACK,EAAD,CAAzB,EAA+BD,GAA/B,CAAmCC,EAAE,IAAIA,EAAE,CAAC,CAAD,CAA3C,EAAgDD,GAAhD,CAAqD,CAACE,IAAD,EAAOC,SAAP,KAAqBD,IAAI,CAACF,GAAL,CAAS,CAACI,KAAD,EAAQC,KAAR,KAAkBF,SAAS,KAAK,CAAd,GAAmBG,MAAM,CAACF,KAAD,CAAN,KAAkBA,KAAK,KAAK,GAAV,GAAgB,CAAhB,GAAoBA,KAAtC,CAAnB,GAAmEA,KAA9F,CAA1E,CAAZ;AACAL,EAAAA,KAAK,CAACQ,KAAN;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBV,KAAtB;AACA,MAAIW,MAAM,GAAG,IAAIC,GAAJ,EAAb;;AAEA,OAAK,IAAIT,IAAT,IAAiBH,KAAjB,EAAwB;AACpB,UAAMa,WAAW,GAAGV,IAAI,CAACW,MAAL,CAAY,CAACZ,EAAD,EAAKa,CAAL,KAAWA,CAAC,GAAG,CAAJ,IAASA,CAAC,GAAG,EAApC,CAApB;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAYM,mBAAmB,CAAC,CAACb,IAAI,CAAC,EAAD,CAAL,EAAWA,IAAI,CAAC,EAAD,CAAf,EAAqBA,IAAI,CAAC,EAAD,CAAzB,CAAD,CAA/B;AACAQ,IAAAA,MAAM,CAACM,GAAP,CAAWd,IAAI,CAAC,CAAD,CAAf,EAAoB;AAChBe,MAAAA,IAAI,EAAEf,IAAI,CAAC,CAAD,CADM;AAEhBgB,MAAAA,wBAAwB,EAAEH,mBAAmB,CAAC,CAACb,IAAI,CAAC,EAAD,CAAL,EAAWA,IAAI,CAAC,EAAD,CAAf,EAAqBA,IAAI,CAAC,EAAD,CAAzB,CAAD,CAF7B;AAGhBU,MAAAA,WAHgB;AAIhBO,MAAAA,eAAe,EAAEJ,mBAAmB,CAACH,WAAD,CAJpB;AAKhBQ,MAAAA,kBAAkB,EAAER,WAAW,CAACC,MAAZ,CAAmBQ,GAAG,IAAIA,GAAG,GAAG,CAAhC,EAAmCC,MALvC;AAMhBC,MAAAA,mBAAmB,EAAEX,WAAW,CAACC,MAAZ,CAAmBW,CAAC,IAAI,OAAOA,CAAP,KAAa,QAArC,EAA+CF;AANpD,KAApB;AAQH;;AAED,WAASP,mBAAT,CAA6BU,GAA7B,EAAkC;AAC9B,WAAOA,GAAG,CAACzB,GAAJ,CAAQwB,CAAC,IAAK,OAAOA,CAAP,KAAa,QAAd,GAA0BA,CAA1B,GAA8B,CAA3C,EAA8CE,MAA9C,CAAqD,CAACC,GAAD,EAAMN,GAAN,KAAcM,GAAG,GAAGN,GAAzE,CAAP;AACH;;AAED,SAAOX,MAAP;AACH","sourcesContent":["import CSVToArray from \"./CSVToArray.js\";\n\nconst data = [`,,,,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,notes,mostre tot,progetti tot.,\"mostre, eventi, residenze \"`,\n    `Fondazione Prada,Milano,exhibitions,x,x,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,4,3,8,7,0,1,,69,11,`,\n    `PAC,Milano,exhibitions,x,x,0,0,0,1,0,6,0,0,0,0,x,x,x,8,0,0,8,25,2,5,0,x,,59,,`,\n    `Bicocca,Milano,exhibitions,x,x,x,x,x,x,x,0,0,0,0,0,2,2,0,0,0,0,0,3,0,0,0,x,,59,,`,\n    `MAXXI,Roma,exhibitions,x,x,x,x,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,44,7,0,x,,271,,`,\n    `MACRO,Roma,\"exhibitions, events, residencies\",x,x,x,x,x,x,x,0,0,1,0,0,2,0,3,1,0,0,1,0,0,1,x,x,,,,346`,\n    `Palazzo delle Esposizioni,Roma,exhibitions,x,x,2,0,0,x,x,x,x,0,0,0,0,0,0,2,0,0,0,0,0,0,0,x,,192,,`,\n    `MADRE,Napoli,exhibitions,x,x,x,x,x,x,x,x,0,0,0,1,0,0,0,0,0,0,0,1,1,0,1,x,,97,,`,\n    `Fondazione Made in Cloister,Napoli,exhibitions,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,0,0,0,0,0,x,,9,,`,\n    `Studio Trisorio,Napoli,exhibitions,x,x,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,x,,126,,`,\n    `Fondazione Sandretto,Torino,exhibitions,x,x,1,1,0,5,1,4,0,2,0,3,0,1,1,1,4,2,3,6,1,1,3,1,,147,,`,\n    `Fondazione Merz,Torino,exhibitions,x,x,x,x,x,x,x,1,0,0,0,0,0,1,0,0,0,0,1,1,1,0,1,x,,58,,`,\n    `GAM - Galleria civica,Torino,exhibitions,x,x,0,1,1,0,0,1,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,x,,282,,`,\n    `Museo Novecento,Firenze,exhibitions,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,0,0,0,0,0,1,x,,70,,`,\n    `Palazzo Strozzi,Firenze,exhibitions,x,x,x,x,x,x,x,x,x,0,1,0,0,0,0,0,0,2,0,0,0,0,0,x,,66,,`,\n    `Villa Romana / fellows,Firenze,fellows/residencies,x,x,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,2,0,1,x,,89,,`,\n    `Villa romana / artisti ospiti,Firenze,guest artists,x,x,x,x,x,x,x,x,x,0,0,0,0,0,0,0,0,0,0,0,5,0,0,x,,50,,`,\n    `MAD Murate Art,Firenze,xxxx,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,0,0,0,9,x,2,9,x,I would exclude because of the unclear infos,x,,`,\n    `Eduardo Secci,Firenze,exhibitions,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,0,0,0,0,0,0,,33,,`,\n    `SRISA Gallery,Firenze,exhibitions,x,x,x,x,x,x,x,x,x,x,x,1,0,0,2,1,1,0,0,0,3,5,3,x,,71,,`,\n    `BASE,Firenze,exhibitions,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,,72,,`,]\n\nexport default function mapArr() {\n    let array = data.map(el => CSVToArray(el)).map(el => el[0]).map(((line, lineIndex) => line.map((entry, index) => lineIndex !== 0 ? (Number(entry) || (entry === '0' ? 0 : entry)) : entry)));\n    array.shift()\n    console.log('ARRAY:', array)\n    let mapped = new Map();\n\n    for (let line of array) {\n        const yearsValues = line.filter((el, i) => i > 3 && i < 27);\n        console.log(sumMixedValuesArray([line[31], line[30], line[29]]))\n        mapped.set(line[0], {\n            city: line[1],\n            totalNumberOfExhibitions: sumMixedValuesArray([line[31], line[30], line[29]]),\n            yearsValues,\n            AADArtistsTotal: sumMixedValuesArray(yearsValues),\n            yearsWithAADAmount: yearsValues.filter(val => val > 0).length,\n            yearsWithDataAmount: yearsValues.filter(e => typeof e === 'number').length\n        })\n    }\n\n    function sumMixedValuesArray(arr) {\n        return arr.map(e => (typeof e === 'number') ? e : 0).reduce((acc, val) => acc + val)\n    }\n\n    return mapped;\n}"]},"metadata":{},"sourceType":"module"}